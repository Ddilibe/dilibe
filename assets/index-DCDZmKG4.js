(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))s(e);new MutationObserver(e=>{for(const o of e)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&s(i)}).observe(document,{childList:!0,subtree:!0});function n(e){const o={};return e.integrity&&(o.integrity=e.integrity),e.referrerPolicy&&(o.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?o.credentials="include":e.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(e){if(e.ep)return;e.ep=!0;const o=n(e);fetch(e.href,o)}})();class h{constructor(){if(this.container=document.getElementById("cube-container"),!this.container){console.error("Cube container not found!");return}this.faces=["front","back","right","left","top","bottom"],this.colors=["red","orange","blue","green","yellow","white"],this.rotationX=-20,this.rotationY=-20,this.isMouseDown=!1,this.mouseX=0,this.mouseY=0,this.cubeState=this.faces.map((t,n)=>Array(9).fill(this.colors[n])),this.init(),this.initializeControls()}init(){console.log("Initializing cube..."),this.faces.forEach((t,n)=>{const s=document.createElement("div");s.className=`cube-face cube-face--${t}`;const e={front:"rotateY(0deg) translateZ(100px)",back:"rotateY(180deg) translateZ(100px)",right:"rotateY(90deg) translateZ(100px)",left:"rotateY(-90deg) translateZ(100px)",top:"rotateX(90deg) translateZ(100px)",bottom:"rotateX(-90deg) translateZ(100px)"};s.style.transform=e[t];for(let o=0;o<9;o++){const i=document.createElement("div");i.className=`cube-cell color-${this.colors[n]}`,i.dataset.faceIndex=n,i.dataset.cellIndex=o,s.appendChild(i)}this.container.appendChild(s)}),console.log("Cube faces created"),this.startSpinning(),this.startScrambleLoop(),this.updateRotation()}initializeControls(){this.container.addEventListener("mousedown",t=>{this.isMouseDown=!0,this.mouseX=t.clientX,this.mouseY=t.clientY}),document.addEventListener("mousemove",t=>{if(!this.isMouseDown)return;const n=t.clientX-this.mouseX,s=t.clientY-this.mouseY;this.rotationY+=n*.5,this.rotationX-=s*.5,this.updateRotation(),this.mouseX=t.clientX,this.mouseY=t.clientY}),document.addEventListener("mouseup",()=>{this.isMouseDown=!1}),this.container.addEventListener("touchstart",t=>{this.isMouseDown=!0,this.mouseX=t.touches[0].clientX,this.mouseY=t.touches[0].clientY}),document.addEventListener("touchmove",t=>{if(!this.isMouseDown)return;const n=t.touches[0].clientX-this.mouseX,s=t.touches[0].clientY-this.mouseY;this.rotationY+=n*.5,this.rotationX-=s*.5,this.updateRotation(),this.mouseX=t.touches[0].clientX,this.mouseY=t.touches[0].clientY,t.preventDefault()},{passive:!1}),document.addEventListener("touchend",()=>{this.isMouseDown=!1})}updateRotation(){this.container.style.transform=`rotateX(${this.rotationX}deg) rotateY(${this.rotationY}deg)`}startSpinning(){console.log("Starting spin animation..."),this.container.classList.add("spin")}stopSpinning(){this.container.classList.remove("spin")}scrambleFace(t){document.querySelectorAll(`.cube-cell[data-face-index="${t}"]`).forEach(s=>{s.classList.add("scramble"),setTimeout(()=>s.classList.remove("scramble"),500)})}startScrambleLoop(){let t=0;setInterval(()=>{this.scrambleFace(t),t=(t+1)%6},2e3)}}document.querySelectorAll('a[href^="#"]').forEach(r=>{r.addEventListener("click",function(t){t.preventDefault();const n=document.querySelector(this.getAttribute("href"));n&&n.scrollIntoView({behavior:"smooth"})})});document.addEventListener("DOMContentLoaded",()=>{console.log("DOM loaded, creating cube..."),new h;const r=document.getElementById("modal"),t=document.getElementById("modal-title"),n=document.getElementById("modal-description"),s=document.getElementById("modal-tech"),e=document.getElementById("modal-link"),o=document.querySelector(".close-button");document.querySelectorAll(".project-card").forEach(c=>{c.addEventListener("click",()=>{const l=c.querySelector(".project-title").innerText,d=c.getAttribute("data-full-description"),u=c.querySelector(".project-tech").innerText,a=c.getAttribute("data-link")||"#";t.innerText=l,n.innerText=d,s.innerText=u,e.href=a,e.innerText=a!=="#"?"View Project":"",r.style.display="flex"})}),o.addEventListener("click",()=>{r.style.display="none"}),window.addEventListener("click",c=>{c.target===r&&(r.style.display="none")})});
